<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hobivia — Accueil</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet">

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
:root{
  --vert-foret:#1B4F46;
  --beige-sable:#EDE6DA;
  --terre-cuite:#D07B4E;
  --blanc:#ffffff;
  --noir:#1e1e1e;
  --glass-bg:rgba(255,255,255,.14);
  --glass-brd:rgba(255,255,255,.35);
  --glass-shadow:0 10px 30px rgba(0,0,0,.18);
}
*{box-sizing:border-box} html,body{margin:0}
body{font-family:Inter,sans-serif;background:var(--beige-sable);color:var(--noir)}
.container{max-width:1180px;margin:0 auto;padding:0 20px}
h1,h2,h3{font-family:"Space Grotesk",sans-serif;color:var(--vert-foret)}
a{text-decoration:none;color:inherit}
.btn{
  display:inline-block;
  background:var(--terre-cuite);
  color:var(--blanc);
  padding:.8rem 1.2rem;
  border-radius:999px;
  font-weight:700;
  transition:transform .25s ease, background .25s ease
}
.btn:hover{transform:translateY(-2px);background:var(--vert-foret)}
.glass{
  background:var(--glass-bg);
  border:1px solid var(--glass-brd);
  backdrop-filter:blur(14px);
  border-radius:22px;
  box-shadow:var(--glass-shadow);
}

/* ===== HEADER ===== */
.header{position:sticky;top:0;z-index:1000;margin-top:8px}
.header .bar{display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
.brand img{height:44px;width:auto}
nav{display:flex;align-items:center;gap:24px;position:relative}

/* Menu Activités */
.menu-item{position:relative}
.menu-item > a{font-weight:700;color:#fff}
.menu-item:hover .dropdown{opacity:1;pointer-events:auto;transform:translateY(0)}
.dropdown{
  position:absolute;top:100%;left:0;
  background:var(--glass-bg);
  border:1px solid var(--glass-brd);
  backdrop-filter:blur(14px);
  border-radius:14px;
  padding:10px 0;
  min-width:180px;
  opacity:0;pointer-events:none;
  transform:translateY(10px);
  transition:.25s ease;
}
.dropdown a{display:block;padding:8px 16px;color:var(--noir)}
.dropdown a:hover{background:rgba(0,0,0,.05)}

/* HERO */
.hero{
  margin:14px 0;
  position:relative;
  border-radius:26px;
  overflow:hidden;
  color:#f0fbf7;
  min-height:60vh;
  display:grid;place-items:center;
  text-align:center;
}
.hero::before{
  content:"";
  position:absolute;inset:0;
  background:url('https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
  filter:brightness(.65);
}
.hero .inner{position:relative;z-index:1;padding:2rem}
.hero p{color:#e5f4ef;max-width:760px;margin:16px auto 24px}

/* MAP */
#map-home{height:520px;border-radius:20px}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header container">
  <div class="bar glass">
    <a class="brand" href="index.html"><img src="images/logo-hobivia.png" alt="Hobivia"></a>
    <nav>
      <div class="menu-item">
        <a href="#">Activités</a>
        <div class="dropdown">
          <a href="peche.html">Pêche</a>
          <a href="#">Randonnée</a>
          <a href="#">VTT</a>
          <a href="#">Surf</a>
        </div>
      </div>
      <a href="destinations.html">Destinations</a>
    </nav>
  </div>
</header>

<!-- HERO -->
<section class="container">
  <div class="hero">
    <div class="inner">
      <h1>Ton activité, ton hébergement de rêve</h1>
      <p>Une sélection d’hébergements uniques et d’architectures inspirantes, pensés pour tes passions.</p>
      <a class="btn" href="peche.html">Voir les logements Pêche</a>
    </div>
  </div>
</section>

<!-- MAP -->
<section class="section container">
  <h2>Explore sur la carte</h2>
  <p>Repère en un coup d’œil où se trouvent nos logements. Clique pour voir la fiche.</p>
  <div id="map-home" class="glass"></div>
</section>

<!-- FOOTER -->
<footer class="container" style="margin-top:40px">
  <div class="glass" style="padding:18px">
    <p>© Hobivia — hébergements de passions</p>
  </div>
</footer>

<!-- Scripts -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const JSON_URL = "https://raw.githubusercontent.com/Hobivia/website/refs/heads/main/data/hobivia-peche.json";
const map = L.map('map-home').setView([46.6,2.2], 5.5);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution:'© OpenStreetMap'}).addTo(map);

fetch(JSON_URL)
  .then(r=>r.json())
  .then(list=>{
    list.forEach((l,i)=>{
      if(!l.latitude || !l.longitude) return;
      L.marker([l.latitude,l.longitude])
        .addTo(map)
        .bindPopup(`<strong>${l.nom}</strong><br>${l.commune||''}<br><a href="logement.html?id=${i+1}" target="_blank">Voir</a>`);
    });
  });
</script>
</body>
</html>
